# 텍스트데이터에서 날짜뽑기
"2030-03-15"
# 텍스트데이터에서 날짜뽑기
2030-03-15
ymd("2030-03-15")
mdy("03/15/2030")
dmy("03/15/2030")
mdy("03/15/2030")
dmy("15032030")
dmy("03/15/2030")
mdy("03/15/2030")
ymd("300315")
ymd("2030년 3월 15일일")
ymd("2030년 3월 15일")
mdy("3월 15일, 2030년년")
mdy("3월 15일, 2030년")
dmy("15-March-2030")
# 안될경우
mdy("March 15th, 2030")
Sys.setlocale("LC_TIME", "C")
mdy("March 15th, 2030")
Sys.setlocale()
ymd(20300315)
ymd_hms("2030-03-15 23:11:59")
ymd_hms("2030-03-15 23:11")
ymd_hm("2030-03-15 23:11")
ymd_h("2030-03-15 23")
months <- c(1,4,7,10)
days <- c(12,19,25,17)
hours <- c(3,7,11,20)
mins <- c(5,12,33,39)
secs <- c(15,5,27,55)
years <- c(2030, 2031,2032,2033)
data.frame(years,months,days,hours,mins,secs)
dt <- data.frame(years,months,days,hours,mins,secs)
dt
make_date(year=dt$years, month=dt$months, day=dt$days)
make_datetime(year=dt$years, month=dt$months, day=dt$days, hour=dt$hours, min=dt$mins , sec=dt$secs)
ymd("2030-03-15")
as_datetime(ymd("2030-03-15"))
ymd_hms("2030-03-15 23:11:59")
as_date(ymd_hms("2030-03-15 23:11:59"))
year()
month()
# 날짜에서 특정정보 추출
datetime <- ymd_hms("1969/07/20, 20:17:39")
year(datetime)
month(datetime)
mday(datetime)
hour(datetime)
# 그 해에 경과된 일수
yday(datetime)
# 요일 정수반환
wday(datetime)
Sys.setlocale("LC_TIME", "C")
month(datetime, label=TRUE)
month(datetime, label=TRUE)
wday(datetime, label=TRUE)
wday(datetime, label=TRUE, abbr=FALSE)
Sys.setlocale()
month(datetime, label=TRUE)
wday(datetime, label=TRUE)
year(datetime) <- 2030
datetime
month(datetime)
month(datetime) <- 8
datetime
update(datetime, year=2031, month=8, hour=11)
update(datetime, yday=1)
datetime <- ymd_hms("1969/07/20, 20:17:39")
datetime
semester(datetime)
quarter(datatime)
am(datetime)
pm(datetime)
# 시간단위 반올림 반내림
round_date(datetime)
floor_date(datetime)
seiling_date(datetime)
ceiling_date(datetime)
# 시간단위 반올림 반내림, 올림, 내림
round_date(datetime, unit="year")
years(1)
months(3)
days(7)
weeks(2)
hours(c(12,24))
minutes(1:5)
seconds(seq(0, 10,, by=2))
seconds(seq(0, 10, by=2))
10*(months(6)+days(2))
moon
moon + day(10000)
moon + day(10000)
moon <- ymd("1969/07/20")
moon + day(10000)
moon + days(10000)
moon + months(1000)
moon - years(100)
source("F:/MyWorkspaceR/print.R", echo=TRUE)
mars <- ymd("2021/02/18")
mars
mars - moon
interval(moon, mars)
class(interval(moon, mars))
moon %--% mars
as.period(moon %--% mars)
# 초단위
as.duration(moon %--% mars)
class(as.duration(moon %--% mars))
dyears(1)
dweeks(1)
dhours(1)
dhours(1)
2* dyears(1)
dyears(1) + dweeks(4) +dhours(2)
ymd("2029-01-01") + years(1)
ymd("2029-01-01") + dyears(1)
leap_year(2029)
leap_year(2028)
years(1)/days(1)
(ymd("2028-01-01") %--% ymd("2029-01-01"))/ddays(1)
Sys.timezone()
OlsonNames()
kst <- ymd_hm("2030-03-15 15:30", tz="Asia/Seoul")
kst
utc <- ymd_hm("2030-03-15 15:30")
utc
kst - utc
utc
kst
ny <- ymd_hms("2030-01-01 00:00:00", tz="America/New_york")
ny
with_tz(ny, tzone = "Asia/Seoul")
?path
??path
getwd()
#mode : numeric, character, logical, list, function
mode(1.414)
mode(c(1.414, 1.732))
mode("batman")
mode(c("batman", "Superman"))
mode(c("batman", "Superman"))
mode(factor("High", "Medium", "Low"))
mode(factor("High", "Medium", "Low"))
mode(as.Date("2030-12-31"))
mode(5 > 2)
mode(list(1.23, "Apple", c(2,3,545,6)))
mode(data.frame(x=1:3, y=c("H","M","L")))
mode(mean())
mean
mode(mean)
d <- as.Date("2030-12-31")
mode(d)
length(d)
class(d)
as.integer(d)
d + 1
print.Date()
print.data.frame()
print.lm()
methods(print)
as.numeric(1.618)
as.intger(1.618)
as.integer(1.618)
as.character(1.618)
as.numeric("gold")
as.numeric(c("-1", "1.618", "3.14"))
as.numeric(c("-1", "1.618", "3.14", "and"))
as.character(11:15)
as.numeric(FALSE)
as.numeric(TRUE)
as.data.frame()
# vector
vec <- 1:6
vec
as.list(vec)
list(vec)
cblind(vec)
cbind(vec)
as.matrix(vec)
rbind(vec)
matrix(vec,2,3)
as.data.frame(vec)
rbind(vec)
as.data.frame(rbind(vec))
# matrix
mat <- matrix(1:6, 2, 3)
mat
as.vector(mat)
as.list(mat)
as.data.frame(mat)
# list
lst <- list(odd=c(1,3,5), even=c(2,4,6))
lst
unlist(lst)
as.vector(lst)
lst2 <- list(odd=c(1,3,5), even=c("two","four", "six"))
lst2
unlist(lst2)
matrix(unlist(lst), 3, 2)
matrix(unlist(lst), 3,2, dimnames=list(NULL, names(lst)))
matrix()
as.matrix()
matrix(lst)
as.matrix(lst)
as.data.frame(lst)
as.data.frame(lst2)
str(as.data.frame(lst2)$odd)
str(as.data.frame(lst2)$even)
#data frame
dfm <- data.frame(odd=c(1,3,5), evne=c(2,4,6))
dfm
dfm[,1]
dfm[[1]]
dfm[1,]
str(dfm[1,])
as.vector(as.matrix(dfm))
dmf2 <- data.frame(odd=c(1,3,5), even=c("two","four","six"))
as.vector(as.matrix(dfm))
as.list(dfm)
as.list(dfm2)
dmf2 <- data.frame(odd=c(1,3,5), even=c("two","four","six"))
dfm2
dfm2 <- data.frame(odd=c(1,3,5), even=c("two","four","six"))
dfm2
as.list(dfm2)
as.matrix(dfm)
as.matrix(dfm2)
# 행, 열결합, merge
library(quantmod)
# 행, 열결합, merge
library(quantmod)
# 행, 열결합, merge
install.packages(quantmod)
# 행, 열결합, merge
install.packages('quantmod')
# 행, 열결합, merge
options("install.lock"=FALSE)
install.packages('quantmod')
library(quantmod)
sec <- getSymbols(Symbols="005930.KS",
from="2021-10-01",
to="2021-12-31",
auto.assign = FALSE)
sec <- as.data.frame(sec)
str(sec)
head(sec[c("005930.KS.Close", "005930.KS.Volume")])
cbind(date=rownames(sec),symbol="005930.KS",sec[c("005930.KS.Close", "005930.KS.Volume")])
sec <- cbind(date=rownames(sec),symbol="005930.KS",sec[c("005930.KS.Close", "005930.KS.Volume")])
rownames(sec) <- NULL
colnames(sec)[c(3,4)] <- c("close", "volume")
head(sec)
hmc <- getSymbols(Symbols="005387.KS",
from="2021-10-01",
to="2021-12-31",
auto.assign = FALSE)
hmc <- as.data.frame(hmc)
str(hmc)
head(hmc[c("005387.KS.Close", "005387.KS.Volume")])
head(hmc[c("005387.KS.Close", "005387.KS.Volume")])
hmc <- cbind(date=rownames(sec),symbol="005387.KS",sec[c("005387.KS.Close", "005387.KS.Volume")])
head(hmc[c("005387.KS.Close", "005387.KS.Volume")])
hmc <- cbind(date=rownames(hmc),symbol="005387.KS",sec[c("005387.KS.Close", "005387.KS.Volume")])
hmc <- cbind(date=rownames(hmc),symbol="005387.KS",hmc[c("005387.KS.Close", "005387.KS.Volume")])
hmc
rownames(hmc) <- NULL
hmc
colnames(hmc)[c(3,4)] <- c("close", "volume")
head(hmc)
stock <- rbind(sec,hmc)
stock
#merge
fx <- getSymbols(Symbols="KRW=X",
from="2021-10-01",
to="2021-12-31",
auto.assign = FALSE)
fx
fx <- as.data.frame(fx)
fx
str(fx)
head(fx[c("KRW=X.Close")])
fx <- cbind(date=rownames(fx),fx[c("KRW=X.Close")])
fx
rownames(fx) <- NULL
colnames(fx)[c(3,4)] <- c("close", "volume")
colnames(fx)[c(3,4)] <- c("close")
colnames(fx)[c(2)] <- c("close")
head(fx)
intersect(names(sec), names(fx))
report <- merge(sec,fx,by="date")
report
v <- c(10,9,8,7,6,5,4,3,2,1)
match(7, v)
match(c(11,5,3,1,0),v)
head(mtcars)
cars <- mtcars
car <- mtcars
car$name <- rownames(car)
car
rownames(car) <- NULL
head(car)
highhp.car <- car[car$hp > 145,]
highhp.car
lightwt.car <- car[car$wt > 3.2,]
lightwt.car
lightwt.car
lightwt.car <- car[car$wt < 3.2,]
lightwt.car
index <- match(highhp.car$name, lightwt.car$name)
index
lightwt.car[na.omit(index),]
v <- c(10,9,8,7,6,5,4,3,2,1)
7 %in% v
c(11,5,3,1,0) %in% v
match(c(11,5,3,1,0),v)
c(11,5,3,1,0) %in% v
index <- highhp.car$name %in% lightwt.car$name
index
highhp.car[index,]
str(mtcars)
rm(list=ls())
str(mtcars)
mtcars$mpg
mtcars[["mpg"]]
mtcars[[1]]
mtcars[c("mpg","hp")]
mtcars[-c(2,3,5,7:11)]
mtcars[-1]
mtcars[1] <- NULL
mtcars
mtcars[c(-1,2)]
str(iris)
iris[1:5,]
iris[,c("Sepal.Length", "Sepal.Width")]
iris[,"Sepal.Length"]
iris[,"Sepal.Length", drop=FALSE]
ris["Sepal.Length"]
iris["Sepal.Length"]
iris[1:5,c("Sepal.Length", "Sepal.Width")]
iris[iris$Sepal.Length>7,]
iris[iris$Sepal.Length>7,c("Sepal.Length", "Sepal.Width")]
subset(iris, subset(Sepal.Length > 7),
select=c("Sepal.Length", "Sepal.Width","Speices"))
subset(iris, subset=(Sepal.Length > 7),
select=c("Sepal.Length", "Sepal.Width","Speices"))
subset(iris, subset=(Sepal.Length > 7),
select=c("Sepal.Length", "Sepal.Width","Species"))
sample(x=1:10, size = 5)
sample(x=10, size=5)
sample(x=10, size=5, replace=TRUE)
sample(10)
set.seed(1)
sample(10)
set.seed(1)
sample(x=100, size=5, replace=TRUE)
sample(x=100, size=5, replace=TRUE)
sample(x=100, size=5, replace=TRUE)
sample(iris, 3)
set.seed(1)
index <- sample(nrow(iris), 3)
index
iris[index,]
duplicatted(c(1,2,3,1,1,4,3))
duplicated(c(1,2,3,1,1,4,3))
id <- c("A001", "A002", "A006")
name <- c("Mouse", "Keyboard", "USB")
price <- c(30000, 90000, 50000)
product <- data.frame(id=id, name=name, price=price)
product
product <- rbind(product, c("A001", "Mouse", 30000))
product
duplicated(product)
product[duplicated(product)]
product[!duplicated(product),]
which(duplicated(product))
index <- which(duplicated(product))
index
product[-index,]
unique(product)
str(airquality)
complete.cases(airquality)
airquality.nona <- airquality[complete.cases(airquality)]
complete.cases(airquality)
airquality.nona <- airquality[complete.cases(airquality)]
airquality.nona <- airquality[complete.cases(airquality.nona)]
airquality.nona <- airquality[complete.cases(airquality.nona)]
airquality.nona)
airquality.nona <- airquality[complete.cases(airquality.nona),]
str(airquality.nona)
airquality.nona <- airquality[complete.cases(airquality),]
str(airquality.nona)
airquality.nona <- na.omit(airquality)
str(airquality.nona)
cut(x=iris$Sepal.Width, breaks=c(0,1,2,3,4,5))
cut(x=iris$Sepal.Width, breaks=5)
iris.cut <- cut(x=iris$Sepal.Width, breaks=c(0,1,2,3,4,5))
table(iris.cut)
summary(iris.cut)
iris.cut <- cut(x=iris$Sepal.Width,
breaks=c(0,1,2,3,4,5),
labels=c("Smaller","Small","Medium","big","Bigger"))
iris.cut
table(iris.cut)
?apply
x <- matrix(1:20, 4, 5)
x
apply(X=x, MARGIN=1, FUN=max)
apply(X=x, MARGIN=2, FUN=max)
apply(X=x, MARGIN=2, FUN=min)
apply(X=x, MARGIN=2, FUn=min)
y <- array(1:24, c(4,3,2))
y
y
apply(y, 1, paste, collapse=",")
a <- c(1,5,9,13,17,21
a)
a
a <- c(1,5,9,13,17,21
)
a
paste(a)
paste(a, collapse = ",")
apply(y, 2, paste, collapse=",")
apply(y, 3, paste, collapse=",")
apply(y, c(1,2), paste, collapse=",")
Titanic
str(Titanic)
apply(Titanic, 1, sum)
apply(Titanic, 1, sum)
apply(Titanic, 4, sum)
apply(Titanic, "Class", sum)
apply(Titanic, c(1,4), sum)
exams <- list(s20=c(78,89,91,85,95,98),
s21 = c(85,86,97,99,90),
s22 = c(98,96,89,90,93,85,92),
s23 =c(98,96,91,88,93,99))
exams
lapply(exams, length)
getwd()
plot(faithful)
#제목과 축
plot(faithful,
main="Old Faithful Geyser",
sub="Yellowstone National Park",
xlab="Eruption time(minutes)",
ylab="waiting time (minutes")
?par
plot(faithful, las=0)
plot(faithful, las=1)
plot(faithful, las=0)
plot(faithful, las=1)
plot(faithful, las=0)
plot(faithful, las=1)
plot(faithful, las=2)
plot(faithful, las=3)
plot(faithful, bty="o")
plot(faithful, bty="o")
plot(faithful, bty="n")
plot(faithful, las=3)
plot(faithful, bty="o")
plot(faithful, bty="n")
plot(faithful, bty="l")
plot(faithful, bty="h'")
plot(faithful, bty="j")
plot(faithful, bty="]")
plot(faithful, pch=8)
plot(faithful, pch=19)
plot(faithful, pch=19, col="green")
plot(faithful, pch=19, col="green3")
plot(faithful, pch=21)
plot(faithful, pch=21, col="dimgray")
plot(faithful, pch=21, col="dimgray", bg="red")
str(LakeHuron)
plot(LakeHuron)
plot(LakeHuron, lty="solid")
plot(LakeHuron, lty="dashed")
plot(LakeHuron, lty="dotted")
plot(LakeHuron, lty="dotdash")
plot(LakeHuron, lty="longdash")
plot(LakeHuron, lty="twodash")
plot(LakeHuron, lty=1)
plot(LakeHuron, lty=6)
plot(LakeHuron, lty=6, col="red")
str(pressure)
plot(pressure)
plot(pressure, type"p")
plot(pressure, type="p")
plot(pressure, type="l")
?plot
plot(pressure, type="s")
plot(pressure, type="b")
x <- 1:10
y1 <- exp(1:10)
y2 <- exp(10:1)
lines(x, y1, type= "o")
plot(x, y1, xlab="x", ylab="y", type="n")
lines(x, y1, type= "o", pch=21, col="red")
lines(x, y2, type= "o", pch=22, col="red")
lines(x, y2, type= "o", pch=22, col="blue")
plot(faithful)
plot(faithful, type="n")
grid()
points(faithful, pch=19, col="blue")
plot(faithful, pch=19, col="blue")
grid()
#색상
colors()
palette()
palette(rainbow(6))
palette()
palette("default")
