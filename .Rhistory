mat
# 인덱스를 통한 값 지정
mat[1,3] <- 77
mat
mat[2,] <- c(22,55)
mat
# 보통 열을 먼저 순서대로 채운다
mat[2:3,3:4] <- c(1,2,3,4)
mat
# 매트리스 할당
city.distance <- c(0,331,238,269,195,
331,0,95,194,189,
238,95,0,171,130,
269,194,171,0,77,
195,189,130,77,0)
city.distance
city.distance.mat <- matrix(city.distance, 5,5,byrow=TRUE)
city.distance.mat
colnames(city.distance.mat) <- c("Seoul","Busan","Daegu", "Gwangju","Jeonju")
city.distance.mat
rownames(city.distance.mat) <- c("Seoul","Busan","Daegu", "Gwangju","Jeonju")
city.distance.mat
city.distance.mat["Seoul","Busan"]
city.distance.mat[,"Seoul"]
city.distance.mat[c("Seoul","Gwangju"),]
rm(list = ls())
# 배열(3개이상의 차원)
a <- 1:24
a
dim(a) <- c(3,4,2)
a
# 배열도 열위주로 채워진다
array(1:12, c(2,3,2))
a
ary <- array(1:12, c(2,3,2))
ary
ary[1,3,2]
ary[,1,2]
# 배열 유지
ary[,1,2, drop=FALSE]
# 행과열을 가져오면 R프로그램에 의해 새롭게 열위주로 정렬됨
ary[2,,]
rm(list = ls())
# 리스트 구조
list(0.6826, 0.9544, 0.9974)
# 리스트 구조
list(0.6826, 0.9544, 0.9974)
list(1.23, "Apple", c(2,3,5,7), matrix(1:6, ncol=3), mean)
# 리스트 구조
list(0.6826, 0.9544, 0.9974)
list(1.23, "Apple", c(2,3,5,7), matrix(1:6, ncol=3), mean)
lst <- list()
lst
lst[[1]] <- 1.23
lst[[2]] <- "apple"
lst[[3]] <- c(2,3,5,7)
lst[[4]] <- matrix(1:6, ncol=3)
lst[[5]] <- mean
lst
lst <- list(0.6826, 0.9544, 0.9974)
lst[[1]] <- 1.23
lst[[2]] <- "apple"
lst[[3]] <- c(2,3,5,7)
lst[[4]] <- matrix(1:6, ncol=3)
lst[[5]] <- mean
lst
lst <- list(0.6826, 0.9544, 0.9974)
lst
names(lst) <- c("sigma1", "sigma2", "sigma3")
lst
names(lst)
length(lst)
# 리스트의 결합
worldcup1 <- list("Brazil", "South Africa", "Germany")
worldcup2 <- list("Korea-Japan", "France", "USA")
worldcup1
worldcup2
c(worldcup1, worldcup2)
a <- list(1,2,3,4,5,6,7)
a
mean(a)
# 리스트 해체 함수
mean(unlist(a))
# 원소 내 데이터값과 원소 추출의 차이
# 2개 대괄호 <- 자루내 데이터 값 가져옴
product <- list("A001", "Mouse", 30000)
# 원소 내 데이터값과 원소 추출의 차이
# 2개 대괄호 <- 자루내 데이터 값 가져옴
# 1개 대괄호 <- 자루 자체를 갖고옴
product <- list("A001", "Mouse", 30000)
product
product[[3]]
product[3]
class(product[[3]])
class(product[3])
product[[c(1,2)]]
product[c(1,2)]
# 인덱스 수정하면서 인수넣기
product <- list(id="A001",
name="Mouse",
price=30000)
product
# 같은 의미임 그러나 앞 1, 2번은 에러가 안뜸
product[["fourth"]]
product$fourth
product[[4]]
product[c(4,2,5)]
product[c("fourth", "name", "fifth")]
# 리스트안에 리스트넣기
lst <- list(one=1, two=2, three=list(alpha=3.1, beta=3.3))
lst
# 리스트안의 리스트의 원소 꺼내기
lst[["three"]]
lst[["three"]][["beta"]]
lst$three$beta
# 리스트안에 리스트넣기
lst <- list(one=1, two=2, three=list(alpha=3.1, beta=3.3))
lst
# 리스트안의 리스트의 원소 꺼내기
lst[["three"]]
lst[["three"]][["beta"]]
rm(list = ls())
product[1:3] <- list("A002", "Keyboard", 90000)
product
# 원소 바꾸기
product <- list(id="A001",
name="Mouse",
price=30000)
product
product[[3]] <- 40000
product[["price"]] <- 40000
product$price <- 50000
# 원소가 하나일경우 괄호 한개도 가능
product[3] <- 30000
product["price"] <- 40000
product
# 원소가 두개이상일 경우 대괄호 두개만 가능
product[[3]] <- c(30000, 40000)
# 대괄호 한개 쓸때는 리스트로 바꿔줘야함
product[3] <- list(c(30000, 40000))
product[1:3] <- list("A002", "Keyboard", 90000)
product
#  추가 원소넣기
product[[4]] <- c("Domestic", "Export")
product
product$madein <- c("Korea", "China")
product[["madein"]] <- c("Korea", "china")
product["madein"] <- list(c("Korea", "China"))
product[6:9] <- list(0.12, 0.15, 0.22, 0.27)
product
# 기존데이터로 리스트만들기
names <- c("Mon", "Tue", "Wed", "Thur", "Fri", "Sat", "Sun")
values <- c(842, 729, 786, 751, 844, 851, 702)
# 빈 리스트도 가능
traffic.death <- list()
traffic.death
traffic.death[names] <- values
traffic.death
# 특정원소 제거
traffic.death[["Fri"]] <- NULL
traffic.death
traffic.death
# 특정원소 제거
traffic.death[["Fri"]] <- NULL
traffic.death
traffic.death[c("Sat", "Sun")] <- NULL
traffic.death
# 함수를 이용한 원소 제거
traffic.death < 750
traffic.death[traffic.death < 750] <- NULL
traffic.death
v1 <- c("A001", "A002", "A003")
v2 <- c("Mouse", "Keyboard", "USB")
v3 <- c(30000, 90000, 50000)
rm(list = ls())
v1 <- c("A001", "A002", "A003")
v2 <- c("Mouse", "Keyboard", "USB")
v3 <- c(30000, 90000, 50000)
data.frame(v1,v2,v3)
#행으로 벡터이름 지정하기
data.frame(row.names=v1,v2,v3)
# 열 이름 지정하기
data.frame(id=v1, name=v2, price=v3)
product <- data.frame(id=v1, name=v2, price=v3)
product
# 팩터로 취급 안하기..?
str(product)
product <- data.frame(id=v1, name=v2, price=v3, stringsAsFactors = FALSE)
str(product)
# 매트릭스 생성후 데이터프레임으로 변환
mat <- matrix(c(1,3,5,7,9,
2,4,6,8,10,
2,3,5,7,11), ncol=3)
mat
# 매트릭스 생성후 데이터프레임으로 변환
mat <- matrix(c(1,3,5,7,9,
2,4,6,8,10,
2,3,5,7,11), ncol=3)
mat
as.data.frame(mat)
number <- as.data.frame(mat)
number
# 리스트 데이터프레임으로 만들기
v1 <- c("A001", "A002", "A003")
v2 <- c("Mouse", "Keyboard", "USB")
v3 <- c(30000, 90000, 50000)
lst <- list(v1,v2,v3)
lst
# 구린 데이터프레임 이름 바꾸기
product <- as.data.frame(lst)
product
colnames(product) <- c("id", "name", "price")
product
rm(list = ls())
# 데이터프레임 확장하기
id <- c("A001","A002","A003")
name <- c("Mouse", "Keyboard", "USB")
price <- c(30000, 90000, 50000)
# 팩터로 안쓰고 데이터프레임만들기
product <- data.frame(id, name, price, stringsAsFactors = FALSE)
product
# 4번째 행 추가하기
rbind(product, c("A004", "Monitor", 250000))
product <- rbind(product, c("A004", "Monitor", 250000))
product
# 데이터 프레임으로 행추가하기
new.rows <- data.frame(id=c("A005", "A006"),
name=c("Memory", "CPU"),
price=c(35000, 320000))
new.rows
new.rows
product <- rbind(product, new.rows)
product
# 열추가하기
product <- cbind(product, madein=c("Korea", "China", "China", "Korea",
"Korea", "USA"))
product
product$madein <- c("Korea", "China", "China", "Korea",
"Korea", "USA")
product
new.cols <- data.frame(manufacturer=c("Logitech", "Logitech", "Samsung",
"Samsung", "Samsung", "Intel"),
quantity=c(20, 15, 50, 30, 40 ,10))
new.cols
# 열추가하기
product <- cbind(product, madein=c("Korea", "China", "China", "Korea",
"Korea", "USA"))
product
product$madein <- c("Korea", "China", "China", "Korea",
"Korea", "USA")
product
new.cols <- data.frame(manufacturer=c("Logitech", "Logitech", "Samsung",
"Samsung", "Samsung", "Intel"),
quantity=c(20, 15, 50, 30, 40 ,10))
new.cols
product <- cbind(product, new.cols)
product
new.cols <- data.frame(manufacturer=c("Logitech", "Logitech", "Samsung",
"Samsung", "Samsung", "Intel"),
quantity=c(20, 15, 50, 30, 40 ,10))
new.cols
product <- cbind(product, new.cols)
cols1 <- data.frame(x=c("a", "b", "c"),
y=c(1,2,3))
product
# cbind함수는 열의 이름을 이용해서 그대로 붙힌다
cols2 <- data.frame(x=c("alpha", "beta", "gamma"),
y=c(100,200,300))
cbind(cols1, cols2)
# 여러개의 리스트 데이터프레임화하여 합치기
lst1 <- list(sex="female", months="1", weight=3.5)
lst2 <- list(sex="male", months="3", weight=4.8)
lst3 <- list(sex="male", months="4", weight=5.3)
lst4 <- list(sex="female", months="9", weight=9.4)
lst5 <- list(sex="female", months="7", weight=8.3)
lst <- list(lst1, lst2, lst3, lst4, lst5)
lst
lst <- list(lst1, lst2, lst3, lst4, lst5)
lst
as.data.frame(lst[[1]])
# 리스트 원소 받아서 데이터 프레임으로 치환하는 함수
lapply(lst, as.data.frame)
# do.call함수 사용 합치기
do.call(rbind, lapply(lst, as.data.frame))
# 데이터프레임 인덱싱
?state
state.abb
state.area
state.name
state.region
us.state <- data.frame(state.abb, state.name, state.region, state.area,
stringsAsFactors = FALSE)
us.state
str(us.state)
us.state[[2]]
# 여러가지 열 한꺼번에 추출
us.state[,c(2,4)]
# 열 이름으로 추출
us.state[["state.name"]]
us.state[,"state.name"]
# 리스트방식 인덱스 추출
us.state[c("state.name", "state.area")]
# 행렬방식 인덱스 추출
us.state[,c("state.name", "state.area")]
states <- data.frame(state.x77)
str(states)
row.names(states)
states$Name <- row.names(states)
states
row.names(states) <- NULL
head(states)
rm(list=ls())
# 특정 조건에 따른 원소들 추출
rich.states <- states[states$Income > 5000, c("Name", "Income")]
states <- data.frame(state.x77)
str(states)
# 특정 조건에 따른 원소들 추출
rich.states <- states[states$Income > 5000, c("Name", "Income")]
row.names(states)
states$Name <- row.names(states)
states
row.names(states) <- NULL
head(states)
# 특정 조건에 따른 원소들 추출
rich.states <- states[states$Income > 5000, c("Name", "Income")]
rich.states
large.states <- states[states$Area > 100000, c("Name", "Area")]
large.states
# 반복되는 추출작업
rm(list= ls())
head(iris)
r <- iris$Sepal.Length / iris$Sepal.Width
head(r)
r <- with(iris, Sepal.Length / Sepal.Width)
head(r)
rm(list = ls())
score <- c(100, 95, 45, 77, 60, 30, 85, 49)
score
score[score<50]
score[score<50] <- 50
score
#2.
cha <- letters(1:10)
#2.
cha <- letters[1:10]
# 반복
rep(1, times=3)
seq(from=3, to=9)
args(seq)
seq(cha, by=3, ZZZ )
seq(from=cha(1), by=3, ZZZ )
cha(rep(ZZZ, times=3))
cha <- 3n
cha <- c(3n)3
c(cha(3n) <- 3
cha(3n) <- 3
cha[3,6,9] <- 3
cha[[3,6,9]] <- 3
cha[3,6,9] <- ZZZ
cha[3,6,9] <- "ZZZ"
cha(3,6,9) <- "ZZZ"
#3.
x <- c("A", "B", "C")
x
c(x, "type")
x+ "type")
x+ "type"
# 반복
rep(1, times=3)
rep(c(1,2,3), times=3)
rep(c(1,2,3), each=3)
rep(x"type", each=3)
rep(c(x(1,2,3)"type", each=3)
rep(c(x(1,2,3), each=3)
# 예시
month <- c(12,9,3,5,1)
month
# 예시
month <- c(12,9,3,5,1)
month
month.name[month]
month
month.name[month]
rep(x, times=2)
args(rep)
rep(x, "type", times=2)
rep(x "type", times=2)
rep(x , times=2)+"type"
rep(c(x,"type") , times=2)
rep(c(x,"type") , each=2)
rep(c(1,2,3), times=c(1,2,3))
rep(c(x,"type") , times=c(1,2,3))
rep(x, times=c(1,2,3))
rep(x&"type", times=c(1,2,3))
rep(x, times=c(1,2,3))&"type"
rep(c(1,2,3), length.out=8)
rep(x, times=c(1,2,3))"type"
rep(x, times=c(1,2,3))
c("type",rep(x, times=c(1,2,3)))
c("type",rep(x, times=c(1,2,3)))
#4.
month.abb
mtx <- month.abb
mtx
dim(mtx) <- month.abb(3,4)
dim(mtx) <- mtx(3,4)
mtx <- month.abb
matrix(mtx, 3,4 )
mtx <- matrix(mtx, 3,4 )
mtx
mtx(c(2,))
mtx[c(2,)]
mtx(c[2,])
mtx(2,)
mtx[2,]
#5.
rm(list = ls())
#5.
x <- 1:12
matrix(x,3,4)
mtx <- matrix(x,3,4)
mtx
mtx[2,] <- 200
mtx
#6.
month.abb
#6.
month.abb <- lst(month.abb)
args(lst)
lst <- list()
lst
#6.
month.abb <- list(month.abb)
month.abb
month.name <- list(month.name)
month.name
# 리스트는 숫자 벡터로 치환해야 숫자로 인식한다
a <- list(1,2,3,4,5,6,7)
month.abb[9] <- month.name[9]
month.abb
View(month.abb)
View(month.name)
View(lst)
#6.
month.abb <- list(month.abb)
month.name <- list(month.name)
month.abb[[9]] <- month.name[[9]]
month.abb[1]
#6.
month.abb <- list(month.abb)
month.abb
rm(list = ls())
#6.
month.abb <- list(month.abb)
View(month.abb)
month.name <- list(month.name)
month.abb
month.abb[[9]] <- month.name[[9]]
month.abb[9] <- month.name[9]
month.name
month.abb
rm(list = ls())
#6.
month.abb <- list(month.abb)
month.name <- list(month.name)
month.abb[[[9]]
month.abb[[9]]
month.abb[[1]]
month.abb[1]
month.name[9]
month.abb[1] <- month.name[9]
month.abb
rm(list = ls())
# 리스트안의 리스트의 원소 꺼내기
lst[["three"]]
# 리스트안에 리스트넣기
lst <- list(one=1, two=2, three=list(alpha=3.1, beta=3.3))
# 리스트안의 리스트의 원소 꺼내기
lst[["three"]]
lst[["three"]][["beta"]]
rm(list = ls())
#6.
month.abb <- list(month.abb)
month.name <- list(month.name)
month.abb[[9]]
month.abb[[9]] <- "September"
month.abb
rm(list = ls())
#7.
x <- 1:3
y <- 4:6
z <- 7:9
tbl <- tibble(x, y, z)
#7.
library(tibble)
tbl <- tibble(x, y, z)
tbl
# 상관계수 추출
head(USArrests)
subset(USArrests, select=-UrbanPop)
cor(subset(USArrests, select=-UrbanPop))
c(fruits, amount)
#9.
fruits <- c("Apple", "Banana", "Orange")
amount <- c(10,20,30)
c(fruits, amount)
rep(c(fruits, amount), eachs=3)
library(stringr)
#3.?
x <- c("A", "B", "C")
c("type",rep(x, times=c(1,2,3)))
paste("type",rep(x, times=c(1,2,3)))
